<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Net Netrual</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="./node_modules/web3/dist/web3.min.js"></script>
</head>
<body>
    <div class="container">

        <h1>Net Neutral</h1>
        <h2 id="Connection"></h2>
        <label for="name" class="col-lg-2 control-label">IP Source</label>
        <input id="ip_src" type="text">
        <label for="name" class="col-lg-2 control-label">IP Destination</label>
        <input id="ip_dest" type="text">

        <button id="button">Save Latencies</button>

    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

    <script>
      if (typeof web3 !== 'undefined') {
           web3 = new Web3(web3.currentProvider);
       } else {
           // set the provider you want from Web3.providers
           web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
      }

      web3.eth.defaultAccount = web3.eth.accounts[0];
      var NetNeutralContract = web3.eth.contract([
          	{
          		"constant": false,
          		"inputs": [
          			{
          				"name": "_ip_src",
          				"type": "string"
          			},
          			{
          				"name": "_ip_dest",
          				"type": "string"
          			},
          			{
          				"name": "_latency",
          				"type": "string"
          			},
          			{
          				"name": "_timestamp",
          				"type": "string"
          			}
          		],
          		"name": "saveConnection",
          		"outputs": [],
          		"payable": false,
          		"stateMutability": "nonpayable",
          		"type": "function"
          	},
          	{
          		"constant": true,
          		"inputs": [
          			{
          				"name": "",
          				"type": "uint256"
          			}
          		],
          		"name": "connections",
          		"outputs": [
          			{
          				"name": "ip_src",
          				"type": "string"
          			},
          			{
          				"name": "ip_dest",
          				"type": "string"
          			},
          			{
          				"name": "latency",
          				"type": "string"
          			},
          			{
          				"name": "timestamp",
          				"type": "string"
          			}
          		],
          		"payable": false,
          		"stateMutability": "view",
          		"type": "function"
          	},
          	{
          		"constant": true,
          		"inputs": [
          			{
          				"name": "idx",
          				"type": "uint256"
          			}
          		],
          		"name": "getConnection",
          		"outputs": [
          			{
          				"name": "",
          				"type": "string"
          			},
          			{
          				"name": "",
          				"type": "string"
          			},
          			{
          				"name": "",
          				"type": "string"
          			},
          			{
          				"name": "",
          				"type": "string"
          			}
          		],
          		"payable": false,
          		"stateMutability": "view",
          		"type": "function"
          	}
          ]);

          var Neutral = NetNeutralContract.at('0x54bc83bc28e70c62b8709ce4903b8ecbb0768418');
          console.log(Neutral);
    </script>

</body>
</html>
